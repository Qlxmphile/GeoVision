<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3D Model Viewer</title>
  <style>
      * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
      }

      body {
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          overflow: hidden;
      }

      #viewer-container {
          position: relative;
          width: 100vw;
          height: 100vh;
          overflow: hidden;
      }

      #canvas-container {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
      }

      #instructions {
          position: absolute;
          bottom: 16px;
          right: 16px;
          background: rgba(255, 255, 255, 0.9);
          padding: 16px;
          border-radius: 8px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
          z-index: 1000;
          backdrop-filter: blur(10px);
      }

      .instruction-text {
          display: block;
          font-size: 12px;
          color: #333;
          margin-bottom: 4px;
      }

      #loading-overlay {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.7);
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          z-index: 2000;
          color: white;
      }

      .spinner {
          width: 40px;
          height: 40px;
          border: 4px solid rgba(255, 255, 255, 0.3);
          border-top: 4px solid white;
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin-bottom: 16px;
      }

      @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
      }

      .loading-text {
          font-size: 14px;
          color: white;
      }

      .hidden {
          display: none !important;
      }

      /* Controls Panel */
      #controls-panel {
          position: absolute;
          top: 16px;
          right: 16px;
          background: rgba(255, 255, 255, 0.9);
          padding: 16px;
          border-radius: 8px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
          z-index: 1000;
          backdrop-filter: blur(10px);
          min-width: 200px;
      }

      .control-group {
          margin-bottom: 12px;
      }

      .control-label {
          display: block;
          font-size: 12px;
          color: #333;
          margin-bottom: 4px;
          font-weight: 500;
      }

      .switch {
          position: relative;
          display: inline-block;
          width: 44px;
          height: 24px;
      }

      .switch input {
          opacity: 0;
          width: 0;
          height: 0;
      }

      .slider {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: #ccc;
          transition: .4s;
          border-radius: 24px;
      }

      .slider:before {
          position: absolute;
          content: "";
          height: 18px;
          width: 18px;
          left: 3px;
          bottom: 3px;
          background-color: white;
          transition: .4s;
          border-radius: 50%;
      }

      input:checked + .slider {
          background-color: #2196F3;
      }

      input:checked + .slider:before {
          transform: translateX(20px);
      }

      select {
          width: 100%;
          padding: 6px 8px;
          border: 1px solid #ddd;
          border-radius: 4px;
          font-size: 12px;
          background: white;
      }

      /* Sidebar Info Panel */
      #info-panel {
          position: absolute;
          top: 50%;
          left: 16px;
          transform: translateY(-50%);
          background: rgba(255, 255, 255, 0.95);
          padding: 16px;
          border-radius: 8px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);
          z-index: 1500;
          min-width: 220px;
          display: none;
          font-family: sans-serif;
          animation: fadeIn 0.3s ease;
      }

      #info-panel h4 {
          margin-bottom: 8px;
          color: #222;
      }

      @keyframes fadeIn {
          from { opacity: 0; transform: translateY(-48%); }
          to { opacity: 1; transform: translateY(-50%); }
      }
  </style>
</head>

<body>
<div id="viewer-container">
  <div id="canvas-container"></div>

  <div id="loading-overlay">
    <div class="spinner"></div>
    <div class="loading-text">Loading 3D Model...</div>
  </div>

  <div id="controls-panel">
    <div class="control-group">
      <label class="control-label">Day/Night Mode</label>
      <label class="switch">
        <input type="checkbox" id="night-mode-toggle">
        <span class="slider"></span>
      </label>
    </div>

    <div class="control-group">
      <label class="control-label">Show Basemap</label>
      <label class="switch">
        <input type="checkbox" id="basemap-toggle">
        <span class="slider"></span>
      </label>
    </div>

    <div class="control-group">
      <label class="control-label">Basemap Type</label>
      <select id="basemap-type">
        <option value="osm">OpenStreetMap</option>
        <option value="satellite">Satellite</option>
        <option value="dark">Dark Mode</option>
      </select>
    </div>
  </div>

  <div id="instructions">
    <span class="instruction-text">üñ±Ô∏è Drag to rotate</span>
    <span class="instruction-text">üìú Scroll to zoom</span>
    <br />
    <span class="instruction-text">üëÜ Click objects for info</span>
  </div>

  <!-- Sidebar Info Panel -->
  <div id="info-panel">
    <h4 id="object-name">Object Info</h4>
    <div id="object-details"><i>No object selected</i></div>

  </div>
</div>

<script type="importmap">
  {
    "imports": {
      "three": "https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.module.js",
      "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.158.0/examples/jsm/"
    }
  }
</script>

<script type="module" src="main.js"></script>
</body>
</html>


